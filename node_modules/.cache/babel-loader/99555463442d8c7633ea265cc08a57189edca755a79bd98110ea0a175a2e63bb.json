{"ast":null,"code":"var _jsxFileName = \"/Users/guadalupesandoval/Documents/Develop/Winterhack/devrockstore/devrockstore/src/context/UseContexto.js\",\n  _s = $RefreshSig$();\nimport Contexto from \"./Contexto\";\nimport React from 'react';\nimport axios from \"axios\";\nimport { useReducer } from \"react\";\nimport Reducer from \"./Reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UseContexto(props) {\n  _s();\n  const API = \"https://devrockstore-default-rtdb.firebaseio.com/productos.json\";\n  const {\n    children\n  } = props;\n  const initState = {\n    products: [],\n    carrito: []\n  };\n  const [state, dispatch] = useReducer(Reducer, initState);\n  const getProducts = async () => {\n    const res = await axios.get(API);\n    dispatch({\n      type: \"GET_PRODUCTS\",\n      payload: res.data\n    });\n  };\n  const setCart = id => {\n    if (state.carrito.find(item => item[0].id === id)) {\n      state.carrito.find(item => item[0].id === id).map(el => {\n        parseInt(el.cantidad++);\n        return el;\n      });\n      dispatch({\n        type: \"SET_CANT\",\n        payload: state.carrito\n      });\n      console.log(\"ya existe el item, le agrego cantidad\");\n    } else {\n      dispatch({\n        type: \"SET_CARRITO\",\n        payload: id\n      });\n      console.log(\"item con el \", id, \"agregado\");\n    }\n  };\n  const deleteCart = id => {\n    console.log(\"delete item\", id);\n  };\n  console.log(\"USE CONTEXTO CART\", state.carrito);\n  return /*#__PURE__*/_jsxDEV(Contexto.Provider, {\n    value: {\n      products: state.products,\n      carrito: state.carrito,\n      getProducts,\n      setCart,\n      deleteCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(UseContexto, \"ivzsx5aR9qRFuEtyOcndflQiQ1Q=\");\n_c = UseContexto;\nvar _c;\n$RefreshReg$(_c, \"UseContexto\");","map":{"version":3,"names":["Contexto","React","axios","useReducer","Reducer","UseContexto","props","API","children","initState","products","carrito","state","dispatch","getProducts","res","get","type","payload","data","setCart","id","find","item","map","el","parseInt","cantidad","console","log","deleteCart"],"sources":["/Users/guadalupesandoval/Documents/Develop/Winterhack/devrockstore/devrockstore/src/context/UseContexto.js"],"sourcesContent":["import Contexto from \"./Contexto\";\nimport React from 'react'\nimport axios from \"axios\";\nimport { useReducer } from \"react\";\nimport Reducer from \"./Reducer\";\n\nexport default function UseContexto(props) {\nconst API = \"https://devrockstore-default-rtdb.firebaseio.com/productos.json\";\nconst {children} = props\nconst initState ={\n    products: [],\n    carrito:[],\n  }\nconst [state, dispatch] = useReducer(Reducer, initState)\n\n  const getProducts = async ()=>{\n    const res = await axios.get(API)\n   dispatch({type:\"GET_PRODUCTS\", payload: res.data})\n  }\n\n  const setCart = (id) => {\n    if (state.carrito.find((item) => item[0].id === id)) {\n      state.carrito\n        .find((item) => item[0].id === id)\n        .map((el) => {\n          parseInt(el.cantidad++);\n          return el;\n        });\n      dispatch({ type: \"SET_CANT\", payload: state.carrito });\n      console.log(\"ya existe el item, le agrego cantidad\");\n    } else {\n      dispatch({ type: \"SET_CARRITO\", payload: id });\n      console.log(\"item con el \", id, \"agregado\");\n    }\n  };\n\n  const deleteCart = (id)=>{\n    console.log(\"delete item\", id);\n  }\n  console.log(\"USE CONTEXTO CART\", state.carrito);\n    return (\n    <Contexto.Provider value={{products: state.products, carrito: state.carrito, getProducts, setCart, deleteCart}}>\n      {children}\n    </Contexto.Provider>\n  )\n}\n"],"mappings":";;AAAA,OAAOA,QAAQ,MAAM,YAAY;AACjC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,OAAO;AAClC,OAAOC,OAAO,MAAM,WAAW;AAAC;AAEhC,eAAe,SAASC,WAAW,CAACC,KAAK,EAAE;EAAA;EAC3C,MAAMC,GAAG,GAAG,iEAAiE;EAC7E,MAAM;IAACC;EAAQ,CAAC,GAAGF,KAAK;EACxB,MAAMG,SAAS,GAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAC;EACV,CAAC;EACH,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,UAAU,CAACC,OAAO,EAAEK,SAAS,CAAC;EAEtD,MAAMK,WAAW,GAAG,YAAU;IAC5B,MAAMC,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAG,CAACT,GAAG,CAAC;IACjCM,QAAQ,CAAC;MAACI,IAAI,EAAC,cAAc;MAAEC,OAAO,EAAEH,GAAG,CAACI;IAAI,CAAC,CAAC;EACnD,CAAC;EAED,MAAMC,OAAO,GAAIC,EAAE,IAAK;IACtB,IAAIT,KAAK,CAACD,OAAO,CAACW,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAAC,CAAC,CAAC,CAACF,EAAE,KAAKA,EAAE,CAAC,EAAE;MACnDT,KAAK,CAACD,OAAO,CACVW,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAAC,CAAC,CAAC,CAACF,EAAE,KAAKA,EAAE,CAAC,CACjCG,GAAG,CAAEC,EAAE,IAAK;QACXC,QAAQ,CAACD,EAAE,CAACE,QAAQ,EAAE,CAAC;QACvB,OAAOF,EAAE;MACX,CAAC,CAAC;MACJZ,QAAQ,CAAC;QAAEI,IAAI,EAAE,UAAU;QAAEC,OAAO,EAAEN,KAAK,CAACD;MAAQ,CAAC,CAAC;MACtDiB,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;IACtD,CAAC,MAAM;MACLhB,QAAQ,CAAC;QAAEI,IAAI,EAAE,aAAa;QAAEC,OAAO,EAAEG;MAAG,CAAC,CAAC;MAC9CO,OAAO,CAACC,GAAG,CAAC,cAAc,EAAER,EAAE,EAAE,UAAU,CAAC;IAC7C;EACF,CAAC;EAED,MAAMS,UAAU,GAAIT,EAAE,IAAG;IACvBO,OAAO,CAACC,GAAG,CAAC,aAAa,EAAER,EAAE,CAAC;EAChC,CAAC;EACDO,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEjB,KAAK,CAACD,OAAO,CAAC;EAC7C,oBACA,QAAC,QAAQ,CAAC,QAAQ;IAAC,KAAK,EAAE;MAACD,QAAQ,EAAEE,KAAK,CAACF,QAAQ;MAAEC,OAAO,EAAEC,KAAK,CAACD,OAAO;MAAEG,WAAW;MAAEM,OAAO;MAAEU;IAAU,CAAE;IAAA,UAC5GtB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACS;AAExB;AAAC,GAvCuBH,WAAW;AAAA,KAAXA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}